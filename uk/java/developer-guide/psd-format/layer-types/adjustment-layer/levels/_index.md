---
title: Шарнир для коригування чорно-білої шару
type: docs
weight: 30
url: /uk/java/layer-types/adjustment-layer/levels/
---

## Робота з шаром коригування рівнів у Photoshop

У цій статті ми дізнаємося, як програмно на Java налаштувати тоновий діапазон та баланс кольорів фотографії у форматі файлу [PSD](/uk/psd/java/psd-format/) використовуючи бібліотеку Aspose.PSD для Java, яка працює незалежно від редактора фотографій Adobe® Photoshop®.

Навіть якщо бібліотека Aspose.PSD для Java підтримує більше ніж достатньо [інструментів для редагування фотографії](/uk/psd/java/manipulating-images/), давайте **спробуємо з API шару коригування рівнів**, яке є одним з найпростіших та найшвидших способів виконати роботу.

## Огляд API

Поточна реалізація (20.6 на момент написання) API шару коригування рівнів **підтримує всі основні функції Photoshop Levels** , а саме, налаштування вхідних і вихідних рівнів для об'єднаного каналу (RGB) а також для кожного віддільного кольорового каналу (червоний, зелений і синій).

API шару коригування рівнів є прямолінійним. Клас [LevelsLayer](https://reference.aspose.com/psd/java/com.aspose.psd.fileformats.psd.layers.adjustmentlayers/LevelsLayer) є входом для коригування рівнів. Він містить кілька методів для доступу до кольорових каналів: getMasterChannel та getChannel(int). Обидва методи повертають [LevelChannel](https://reference.aspose.com/psd/java/com.aspose.psd.fileformats.psd.layers.layerresources/LevelChannel), який має відповідні властивості для маніпулювання вхідними та вихідними рівнями. Відмінність полягає в тому, що метод getMasterChannel слугує для налаштування об'єднаного кольорового каналу (RGB), тоді як getChannel дає доступ до певного кольорового каналу (червоного, зеленого або синього) за його індексом.

## Сумісність з колірними режимами

Варто додати, що шар коригування рівнів **сумісний з переважною більшістю колірних режимів** відповідно до Photoshop Levels. Тому можна налаштовувати рівні для зображень у режимах відтінків сірого (сірий канал), RGB (RGB, червоний, зелений та синій канали), CMYK (CMYK, синій, магента, жовтий та чорний канали), Duotone (монохромний канал) та LAB (світлота, a та b канали).

## Налаштування тонового діапазону

Просто кажучи, коригування тону застосовується до зображення для перерозподілу тіней та світлих відтінків для кращого розподілу серединних тонів. Загалом, **це робить зображення більш контрастним**, якщо виконати правильно. Наприклад, візьмемо фото собаки (b) та налаштуємо її тоновий діапазон (a – знімок екрану відображений з вікна Photoshop Levels для зрозумілості), щоб зображення виглядало більш контрастним (c).

![](RackMultipart20200821-4-1x13l6z_html_8fc7fa6738d8d302.png)

|![Фігура шару рівнів 1](levels-adjustment-figure-1.png)|

Для **налаштування загального тонового діапазону** зображення спочатку повинні бути встановлені вхідні рівні мастер-каналу:

    LevelsLayer levelsLayer = psdImage.addLevelsAdjustmentLayer();

    LevelChannel masterChannel = levelsLayer.getMasterChannel();
    masterChannel.setInputShadowLevel(( **short** )21);
    masterChannel.setInputMidtoneLevel(( **float** )1.19);
    masterChannel.setInputHighlightLevel(( **short** )229);

Пам'ятайте, що вхідні рівні повинні бути в межах від 0 до 253 для тіней, від 9.99 до 0.01 для серединних тонів та від 2 до 255 для світлих відтінків. Діапазон вихідних рівнів повинен бути між 0 та 255.

Потрібні ще приклади? Ви можете знайти їх на [Github](https://github.com/aspose-psd/Aspose.PSD-for-Java) та у [базі знань](https://docs.aspose.com/display/psdjava/Manipulating+Photoshop+Formats#ManipulatingPhotoshopFormats-AddLevelAdjustmentLayers).

## Висновок

Підсумовуючи, у Aspose.PSD для Java є зручний та простий API для зміни тонового діапазону та балансу кольорів зображення, який сумісний із майже всіма режимами кольорів. API шару коригування рівнів бібліотеки схожий на Photoshop Levels, тому легко почати використовувати його, навіть якщо ви раніше не працювали з цією бібліотекою.
