---
title: Как да създадем програмно генератор на миниатюри за YouTube в Java
type: docs
weight: 10
url: /bg/java/kak-da-sazdadem-generator-na-miniaturi-za-youtube-programno-v-java/
---

## **Въведение**
Целта на този документ е да демонстрира API употребата на някои съставни инструменти на [Aspose.PSD за Java](https://products.aspose.com/psd/java) на реален пример. В тази статия ще бъде написана и обяснена **проста Java програма, която генерира миниатюри за YouTube** за канала на [DW Documentary](https://www.youtube.com/channel/UCW39zufHfsuGgpLviKh297Q). Този канал е избран от реалния свят, защото неговите миниатюри са доста стандартни и илюстрират употребата на няколко популярни съставни инструменти на Aspose.PSD за Java (например, ефект за [сянка](/psd/bg/java/manipulating-photoshop-formats/#manipulatingphotoshopformats-supportdropshadoweffect), пълнене с радиални градиенти, рисуване на текст и форми):

![todo:image_alt_text](how-to-create-youtube-thumbnail-generator-programmatically-in-java_1.png)

## **Как работи в най-общи линии**
Проста Java програма приема два аргумента: заглавие и изображение. **В паметен документ на Photoshop (PSD) се генерира** от този вход, използвайки Aspose.PSD за Java. След това програмата **конвертира документа от PSD в PNG** файлов формат, за да получи миниатюра на YouTube с размер от 1280х720 пиксела. Изходното изображение прилича на следното:

![todo:image_alt_text](how-to-create-youtube-thumbnail-generator-programmatically-in-java_2.png)

## **Технически изисквания**
Следните технологии са необходими за успешното изпълнение на кода от тази статия:

- Java 6+
- [Aspose.PSD за Java](/psd/bg/java/installation/) (най-нова версия)

## **Започване**
Както вече беше споменато, програмата използва вътрешен PSD, за да създаде миниатюра. Затова, нека **създадем PSD документ**, за да започнем:

PsdImage psdImage = new PsdImage(1280, 720);

Ако погледнете по-внимателно миниатюрата на YouTube по-горе, може да забележите, че **тя се състои от няколко компонента**:

1. фоново изображение (отпечатан маскиран)
2. радиален PSD градиент (осветява областта в горния десен ъгъл)
3. лого с ефект на сянка
4. заглавие и просто рисуване (син прямоъгълник)

Нека се потопим по-дълбоко, за да видим как да реализираме всеки от тези компоненти, използвайки Aspose.PSD за Java в следващите раздели.

## **1. Добавяне на фоново изображение**
Редът на слоевете е важен. Затова, фоновото изображение трябва да се добави първо, за да не прекрива други слоеве. Обърнете внимание, че в момента се поддържат само [растерни файлови формати](/psd/bg/java/supported-file-formats/).
### **1.1. Добавяне на фоново изображение към слой в Photoshop**
За да **добавите растерно изображение в PSD**, трябва да предадете поток на вход като аргумент по време на създаването на слоя (вижте повече [примери за зареждане на растерни изображения](https://docs.aspose.com/display/psdnet/Creating%2C+Opening+and+Saving+Images)):

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-1.java" >}}

1.2. Съобразете фоновото изображение с размера на платното

Следващите 2 действия (преоразмеряване, позициониране) са полезни за случаите, когато **размерът на изображението се различава от размера на платното**, въпреки че изображението в тази статия има същия размер като платното (предполагаме, че това няма да бъде винаги така).

Уверете се, че зареденото изображение **се вмества** **в размера на платното** (вижте повече [примери за преоразмеряване](https://docs.aspose.com/display/psdnet/Crop%2C+Rotate+and+Resize+Images#Crop,RotateandResizeImages-ResizingImages)):

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-2.java" >}}

След преоразмеряването позицията на изображението се променя. Следователно, за **нулиране на позицията на изображението**, преместете преоразмереното изображение в горния ляв ъгъл:

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-3.java" >}}

## **2. Добавяне на радиален градиент**
Има **два начина за добавяне на радиален градиент**, използвайки:

- ефект за [преливане на градиент](/psd/bg/java/aspose-psd-for-java-20-4-release-notes/#-~-text=psdjava-163) върху съществуващ слой (ефект за градиент, който се свързва с текущия слой и се прилага към неговото съдържание)
- нов [слой за пълнене с градиент](/psd/bg/java/support-of-fill-layers/#supportoffilllayers-supportoffilllayerswithgradientfill) (отделен слой, който поддържа самостоятелна конфигурация на градиента)

За този пример е достатъчно да се използва ефекта за преливане на градиент. Въпреки това, за да направим тази статия по-интересна и полезна, **е използван слоя за пълнене с градиенти**, тъй като всички ефекти на слоя се прилагат по сходен начин и друг ефект на слоя ще бъде използван в следващия раздел.
### **2.1. Добавяне на слой за пълнене с радиален градиент**
Процесът на добавяне на нов слой за пълнене с градиент се състои от следните 2 стъпки:

\1. Необходимо е да се **декларират настройките за пълнене с градиент**, тъй като няма предварително зададени такива. Минималната изисквана конфигурация изглежда като следната (имайки предвид, че са необходими свойства като тип на градиента, мащаб, цветове и прозрачни точки):

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-4.java" >}}

Горепосочената конфигурация декларира радиален градиент, който е прозрачен по краищата и тъмно син в средата. Положението на градиента е в средата на платното по подразбиране.

За обръщане на пълненето с градиент и леко изместване към горния десен ъгъл използвайте съответните незадължителни свойства:

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-5.java" >}}


\2. Когато конфигурацията е приключена, добавете слой за пълнене с градиент заедно с настройките му в PSD:

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-6.java" >}}

## **Добавяне на лого с ефект на сянка**
**Сянката** е ефект, който позволява да се добави персонализирана сянка по контура на обекта (изображение, текст и т.н.).
### **3.1. Добавяне на лого в Photoshop слой**
Същият подход като в раздел 1.1. може да се използва за **добавяне на лого в PSD**:

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-7.java" >}}
### **3.2. Позициониране на логото**
Зареденото изображение по подразбиране е залепено близо до горния ляв ъгъл. Въпреки това е необходимо да се добавят някои **отмествания**, за да прилича на оригиналната миниатюра на YouTube в канала. Следователно позицията на изображението трябва да бъде изместена от ръбовете на слоя:

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-8.java" >}}
### **3.3. Добавяне на ефект за сянка на логото**
Логото може да бъде невидимо, ако се използва светло фоново изображение. Поради това е желателно да се **добави ефект за сянка** на логото чрез свойството за смесване на опциите за ефекти на слоевете (вижте още [примери за сенки](/psd/bg/java/manipulating-photoshop-formats/#manipulatingphotoshopformats-supportdropshadoweffect)):

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-9.java" >}}

Ефектът за сянка няма нужните свойства поради настройката по подразбиране (изглежда като този на Photoshop). Въпреки това сенката по-горе е модифицирана, за да изглежда като полу-прозрачна граница с размазани ръбове.

## **4. Добавяне на рисуване на текст и форма**
### **3.1. Създаване на графичен слой**
Рисуването не се поддържа директно от обикновен слой. Поради това се използва графичният двигател до слоя, за да **предостави API за рисуване** (вижте още [примери за рисуване](/psd/bg/java/drawing-images-using-graphics/)):

Layer graphicLayer = psdImage.addRegularLayer();
Graphics graphics = **new** Graphics(graphicLayer);

### **3.2. Рисуване на текст на няколко реда**
Опитен читател може да попита: защо не използваме слой за текст, за да добавим текст? Е, има няколко причини: изпращането на текст не е необходимо в този случай, тъй като PSD се генерира от самото начало всеки път; персонализацията на шрифт не се поддържа от [API за текст](https://docs.aspose.com/display/psdnet/Working+With+Text+Layers) все още (v20.6 към времето на писане).

Лесно е **да се нарисува текст с персонализиран шрифт** - просто създайте желания шрифт и извикайте съответния метод от графичния двигател. Въпреки това, за да се създаде правоъгълник (вижте подробности в следващия раздел), който променя височината си автоматично в зависимост от броя редове текст, се изисква малко по-голямо усилие. Точната височина на всички редове трябва първо да бъде изчислена:

{{< gist "aspose-com-gists" "31800d807a72f1f50fe4b29374119227" "Documentation-Java-Aspose-YouTubeThumbnailGenerator-Snippet-10.java" >}}

Където 1.15 е височината на реда, 3 е отстоянието на текста.
### **3.3. Рисуване на правоъгълник**
Правоъгълникът също е лесен за рисуване дори с градиентна четка (