---
title: Обработка на форматите на Adobe Photoshop
type: docs
weight: 20
url: /bg/net/manipulating-adobe-photoshop-formats/
---

## **Сливане на PSD слоеве в Други слоеве**

## **Изнасяне на изображение към PSD**
PSD, документ на Photoshop, е форматът на файл, използван по подразбиране от Adobe Photoshop за работа с изображения. Aspose.PSD ви позволява да зареждате, редактирате и запазвате файлове към PSD така, че те могат да бъдат отворени и редактирани в Photoshop. Този документ показва как да запазите файл към PSD с Aspose.PSD и разглежда някои от настройките, които могат да се използват при запазването в този формат. [PsdOptions](https://reference.aspose.com/psd/net/aspose.psd.imageoptions/psdoptions) е специален клас в [ImageOptions](https://reference.aspose.com/psd/net/aspose.psd.imageoptions) пространството на имена, използван за изнасяне на изображения към PSD. За да изнесете към PSD, създайте инстанция на класа Image, заредена от съществуващ файл с изображение (например миниатюри) или създадена от нулата. Този документ обяснява как. В примерите по-долу се създава изображение от нулата. След като бъде създадено и данните за пиксели бъдат популирани, запазете изображението, използвайки метода Save на класа Image и предоставете обект PsdOptions като втори аргумент. За напреднали конверсии могат да се зададат някои от свойствата на класа PsdOptions като ColorMode, [CompressionMethod](https://reference.aspose.com/psd/net/aspose.psd.fileformats.psd/compressionmethod) и Версия. Aspose.PSD поддържа следните методи за компресия чрез изброяване на методите за компресия:

- CompressionMethod.Raw
- CompressionMethod.RLE
- CompressionMethod.ZipWithoutProtection
- CompressionMethod.ZipWithProtection

Следните цветови режими се поддържат чрез изброяването на [ColorModes](https://reference.aspose.com/psd/net/aspose.psd.fileformats.psd/colormodes):

- ColorModes.Bitmap
- ColorModes.Grayscale
- ColorModes.RGB


Могат да бъдат добавени допълнителни ресурси, като например миниатюрни ресурси за PSD v4.0, v5.0 и по-нови или ресурси за мрежа и насоки за PSD v4.0 и по-нови. Кода по-долу създава файл с изображение от нулата, популира пикселите и го запазва към PSD с компресия RLE и цветов режим в сиво черно. Следващият кодов отсечка ви показва как да изнесете изображение към PSD.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Примери-СSharp-Aspose-Модифициране и Конвертиране на Изображения-PSD-Изнесене на Изображение към PSD-Изнесене на Изображение към PSD.cs" >}}

## **Импортиране на изображение в PSD слой**
Този документ демонстрира използването на Aspose.PSD за добавяне или импортиране на изображение в PSD слой. Aspose.PSD APIs са представили ефективни и лесни за използване методи за постигане на тази цел. Aspose.PSD е представил метода [DrawImage](https://reference.aspose.com/psd/net/aspose.psd.fileformats.psd.layers/layer/methods/drawimage) на класа Layer за добавяне/импортиране на изображение в PSD файл. Методът DrawImage се нуждае от местоположение и стойности на изображението, за да добави/импортира изображение в PSD файл. Стъпките за импортиране на изображение в PSD слой са толкова семпли като по-долу:

- Заредете PSD файл като изображение чрез фабричния метод Load, предоставен от класа Image.
- Създайте инстанция на класа Layer от потока с PNG, Jpeg, Tiff, Gif, Bmp, Psd или j2k файл.
- Добавете слой към Psd, използвайки метода AddLayer.
- Запазете резултатите.

Следващата кодова отсечка ви показва как да импортирате изображението в PSD слой.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Примери-СSharp-Aspose-Отваряне-Зареждане на Изображение от Поток-Зареждане на Изображение от Поток.cs" >}}

## **Замяна на цветове в PSD слоеве**
Този документ показва как да добавите или импортирате изображение в PSD слой с Aspose.PSD. Aspose.PSD APIs са представили ефективни и лесни за използване методи за постигане на тази цел. Aspose.PSD е представил метода DrawImage на класа Layer за добавяне/импортиране на изображение в PSD файл. Методът DrawImage се нуждае от местоположение и стойности на изображението, за да добави/импортира изображение в PSD файл. Стъпките за импортиране на изображение в PSD слой са толкова семпли като по-долу:

- Заредете PSD файл като изображение чрез фабричния метод Load, предоставен от класа Image.
- Създайте инстанция на класа Layer и присвоете на PSD изображенски слой на него.
- Заредете изображението, което трябва да бъде добавено или създайте такова от нулата.
- Обадете метода Layer.DrawImage, като посочите местоположение и инстанция на изображение.
- Запазете резултатите.

Следващата кодова отсечка ви показва как да импортирате изображение в PSD слой.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Примери-СSharp-Aspose-Модифициране и Конвертиране на Изображения-PSD-Замяна на Цветове в PSD-Замяна на Цветове в PSD.cs" >}}

## **Създаване на миниатюри от файлове PSD**
PSD е нативният документен формат на Photoshop на Adobe. Adobe Photoshop (версия 5.0 и по-нови) съхранява информация за миниатюри за предварителен изглед в блок с изображенски ресурс, който се състои от начална заглавна част от 28 байта, следвана от JFIF миниатюра в RGB (червен, зелен, син) ред. Aspose.PSD API предоставя лесен за употреба механизъм за достъп до ресурсите на PSD файловете. Тези ресурси също включват миниатюрния ресурс, който от своя страна може да бъде извлечен и запазен на диск според нуждите на приложение. Следващата кодова отсечка ви показва как да създадете миниатюри от файлове PSD.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Примери-СSharp-Aspose-Модифициране и Конвертиране на Изображения-PSD-Създаване на миниатюри от файлове PSD-Създаване на миниатюри от файлове PSD.cs" >}}

## **Създаване на индексирани PSD файлове**
Aspose.PSD за .NET API може да създаде индексирани PSD файлове от нулата. Този документ демонстрира използването на класовете PsdOptions и [PsdImage](https://reference.aspose.com/psd/net/aspose.psd.fileformats.psd/psdimage) за създаване на индексиран PSD, докато рисува някои форми върху вече създаденото платно. За създаване на индексиран файл PSD са необходими следните стъпки:

- Създайте инстанция на PsdOptions и задайте нейния източник.
- Задайте свойството ColorMode на PsdOptions към ColorModes.Indexed.
- Създайте нова цветова палитра от RGB пространството и я задайте като свойство на палитра на PsdOptions.
- Задайте свойството CompressionMethod на желания компресиращ алгоритъм.
- Създайте ново PSD изображение, извиквайки метода PsdImage.[Create](https://reference.aspose.com/psd/net/aspose.psd/image/methods/create).
- Нанесете графика или извършете други операции в зависимост от изискванията.
- Извикайте метода PsdImage.Save, за да ангажирате всички промени.

Следващата кодова отсечка ви показва как да създадете индексирани PSD файлове.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Примери-СSharp-Aspose-Модифициране и Конвертиране на Изображения-PSD-Създаване на индексирани PSD файлове-Създаване на индексирани PSD файлове.cs" >}}

## **Изнасяне на PSD слой към растерно изображение**
Aspose.PSD за .NET ви позволява да изнасяте слоеве в PSD файл към растрени изображения. Моля, използвайте методът [Aspose.PSD.FileFormats.Psd.Layers.Layer.Save](https://reference.aspose.com/psd/net/aspose.psd/image/methods/save/index) за изнасяне на слоя към изображението. Следният примерен код зарежда PSD файл и изнася всеки от неговите слоеве към PNG изображение, използвайки метода Aspose.PSD.FileFormats.Psd.Layers.Layer.Save. След като всички слоеве са изнесени към PNG изображения, можете да ги отворите с любимия си прегледач на изображения. Следващата кодова отсечка ви показва как да изнесете PSD слой към растерно изображение.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Примери-СSharp-Aspose-Модифициране и Конвертиране на Изображения-PSD-Изнасяне на PSD слой към растерно изображение-Изнасяне на PSD слой към растерно изображение.cs" >}}

## **Актуализиране на текстов слой в файл PSD**
Aspose.PSD за .NET ви позволява да манипулирате текста в текстовия слой на PSD файл. Моля, използвайте класа [Aspose.PSD.FileFormats.Psd.Layers.TextLayer](https://reference.aspose.com/psd/net/aspose.psd.fileformats.psd.layers/textlayer) за актуализиране на текста в PSD слоя. Следният примерен код зарежда PSD файл, получава достъп до текстов слой, актуализира текста и запазва PSD файла с ново име, използвайки метода [Aspose.PSD.FileFormats.Psd.Layers.TextLayer.UpdateText](https://reference.aspose.com/psd/net/aspose.psd.fileformats.psd.layers/textlayer/methods/updatetext/index).


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Примери-СSharp-Aspose-Модифициране и Конвертиране на Изображения-PSD-Актуализация на текстов слой в файл PSD-Актуализация на текстов слой в файл PSD.cs" >}}

## **Откриване на сгънат PSD**
Aspose.PSD за .NET ви позволява да откриете дали даден PSD файл е сгънат или не. Свойството IsFlatten е било въведено в класа Aspose.PSD.FileFormats.Psd.PsdImage, за да се постигне тази функционалност. Следният примерен код зарежда PSD файл и получава достъп до свойството [IsFlatten](https://reference.aspose.com/psd/net/aspose.psd.fileformats.psd/psdimage/properties/isflatten).


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Примери-СSharp-Aspose-Модифициране и Конвертиране на Изображения-PSD-Откриване на сгънат PSD-Откриване на сгънат PSD.cs" >}}

## **Сливане на PSD слоеве**
Този документ показва как да сливате слоеве в PSD файл, като преобразувате PSD файл към JPG с Aspose.PSD. В примера по-долу, съществуващ PSD файл се зарежда, като се подаде пътят към файла на статичния метод Load на класа Image. След като бъде зареден, конвертирайте/кастни изображението към PsdImage. Съ