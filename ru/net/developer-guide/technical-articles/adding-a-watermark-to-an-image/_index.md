---
title: Добавление водяного знака на изображение
type: docs
weight: 30
url: /ru/net/adding-a-watermark-to-an-image/
---

## **Добавление водяного знака на изображение**
Этот документ объясняет, как добавить водяной знак на изображение с помощью Aspose.PSD. Добавление водяного знака на изображение - это часто встречающееся требование для приложений обработки изображений. В этом примере используется класс Graphics для рисования строки на поверхности изображения.

### **Добавление водяного знака**
Для демонстрации операции мы загрузим изображение в формате BMP с диска и нарисуем строку в качестве водяного знака на поверхности изображения с использованием метода DrawString класса Graphics. Затем мы сохраним изображение в формате PNG с помощью класса PngOptions. Ниже приведен пример кода, демонстрирующий, как добавить водяной знак на изображение. Исходный код примера разделен на части для лучшего понимания. Шаг за шагом приводится примеры того, как:

1. [Загрузить](https://reference.aspose.com/psd/net/aspose.psd.image/load/methods/2) изображение.
1. Создать и инициализировать объект [Graphics](https://reference.aspose.com/psd/net/aspose.psd/graphics).
1. Создать и инициализировать объекты Font и [SolidBrush](https://reference.aspose.com/psd/net/aspose.psd.brushes/solidbrush).
1. Нарисовать строку в качестве водяного знака с использованием метода [DrawString](https://reference.aspose.com/psd/net/aspose.psd/graphics/methods/drawstring) класса Graphics.
1. Сохранить изображение в формате PNG.

В следующем фрагменте кода показано, как добавить водяной знак на изображение.

{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-ModifyingAndConvertingImages-PSD-AddWatermark-AddWatermark.cs" >}}

### **Добавление диагонального водяного знака**
Добавление диагонального водяного знака на изображение аналогично добавлению горизонтального водяного знака, описанному выше, с некоторыми отличиями. Для демонстрации операции мы загрузим изображение в формате JPG с диска, добавим трансформации с использованием объекта класса [Matrix](https://reference.aspose.com/psd/net/aspose.psd/matrix) и нарисуем строку в качестве диагонального водяного знака на поверхности изображения с использованием метода DrawString класса Graphics. Ниже приведен пример кода, демонстрирующий, как добавить диагональный водяной знак на изображение. Исходный код примера разделен на части для лучшего понимания. Шаг за шагом приводится примеры того, как:

1. Загрузить изображение.
1. Создать и инициализировать объект Graphics.
1. Создать и инициализировать объекты [Font](https://reference.aspose.com/psd/net/aspose.psd/font) и SolidBrush.
1. Получить размер изображения в объекте [SizeF](https://reference.aspose.com/psd/net/aspose.psd/sizef).
1. Создать экземпляр класса Matrix и выполнить композитное преобразование.
1. Присвоить преобразование объекту Graphics.
1. Создать и инициализировать объект [StringFormat](https://reference.aspose.com/psd/net/aspose.psd/stringformat).
1. Нарисовать строку в качестве диагонального водяного знака с использованием метода DrawString класса Graphics.
1. Сохранить полученное изображение.

В следующем фрагменте кода показано, как добавить диагональный водяной знак.

{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-ModifyingAndConvertingImages-PSD-AddDiagnolWatermark-AddDiagnolWatermark.cs" >}}
