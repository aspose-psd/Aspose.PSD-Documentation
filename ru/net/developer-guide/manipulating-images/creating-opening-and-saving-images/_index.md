---
title: Создание, открытие и сохранение изображений
type: docs
weight: 30
url: /ru/net/creating-opening-and-saving-images/
---

## **Создание файлов изображений**
Aspose.PSD для .NET позволяет разработчикам создавать собственные изображения. Используйте статический метод Create, предоставленный классом Image, для создания новых изображений. Все, что вам нужно сделать, это предоставить соответствующий объект одного из классов из пространства имен ImageOptions для нужного формата выходного изображения. Чтобы создать файл изображения, сначала создайте экземпляр одного из классов из пространства имен ImageOptions. Эти классы определяют формат выходного изображения. Ниже перечислены некоторые классы из пространства имен ImageOptions (обратите внимание, что в настоящее время поддерживаются только семейства форматов файлов PSD для создания):

[PsdOptions](https://reference.aspose.com/psd/net/aspose.psd.imageoptions/psdoptions) устанавливает параметры для создания файла PSD. Файлы изображений могут быть созданы путем установки пути вывода или установки потока.
### **Создание с указанием пути**
Создайте PsdOptions из [ImageOptions](https://reference.aspose.com/psd/net/aspose.psd.imageoptions) и установите различные свойства. Самое важное свойство для установки - это свойство Source. Это свойство указывает, где находятся данные изображения (в файле или потоке). В приведенном ниже примере источником является файл. После установки свойств передайте объект одному из статических методов [Create](https://reference.aspose.com/psd/net/aspose.psd/image/methods/create) вместе с параметрами ширины и высоты. Ширина и высота определяются в пикселях.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-DrawingAndFormattingImages-CreatingbySettingPath-CreatingbySettingPath.cs" >}}
### **Создание с использованием потока**
Процесс создания изображения с использованием потока такой же, как при использовании пути. Единственное отличие в том, что вам нужно создать экземпляр [StreamSource](https://reference.aspose.com/psd/net/aspose.psd.sources/streamsource), передав объект Stream в его конструктор и присвоив его свойству Source.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-DrawingAndFormattingImages-CreatingUsingStream-CreatingUsingStream.cs" >}}
## **Открытие файлов изображений**
Разработчики могут использовать API Aspose.PSD для .NET для открытия существующих файлов изображений PSD для различных целей, таких как добавление эффектов на изображение или преобразование существующего файла в другой формат. Независимо от цели, Aspose.PSD предоставляет два стандартных способа открытия существующих файлов: из файла или из потока.
### **Открытие с диска**
Откройте файл изображения, передав путь и имя файла в качестве параметра в статический метод Load, предоставляемый классом Image.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-Conversion-SavingtoDisk-SavingtoDisk.cs" >}}
### **Открытие с использованием потока**
Иногда изображение, которое необходимо открыть, хранится как поток. В таких случаях используйте перегруженную версию метода Load. Он принимает объект Stream в качестве аргумента для открытия изображения.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-Conversion-LoadingFromStream-LoadingFromStream.cs" >}}
### **Загрузка изображения как слой**
Эта статья демонстрирует использование Aspose.PSD для загрузки изображения как слоя. API Aspose.PSD предоставляет эффективные и простые в использовании методы для достижения этой цели. Aspose.PSD выставил метод AddLayer класса PsdImage для добавления изображения в файл PSD в качестве слоя.

Шаги загрузки изображения в PSD как слоя настолько просты, как указано ниже:

- Создайте экземпляр изображения, используя класс PsdImage с указанной шириной и высотой.
- Загрузите файл PSD как изображение, используя фабричный метод Load, предоставленный классом Image.
- Создайте экземпляр класса Layer и присвойте ему слой изображения PSD.
- Добавьте созданный слой с помощью метода AddLayer, предоставленного классом PsdImage.
- Сохраните результат.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-ModifyingAndConvertingImages-PSD-LoadImageToPSD-LoadImageToPSD.cs" >}}
### **Загрузка изображения как слоя из потока**
Эта статья демонстрирует использование Aspose.PSD для загрузки изображения как слоя из потока. Чтобы загрузить изображение из потока, просто передайте объект потока, содержащий изображение, в конструктор класса Layer. Добавьте созданный слой, используя метод AddLayer, предоставленный классом PsdImage, и сохраните результат.


Вот пример кода.

{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-Opening-LoadingImageFromStream-LoadingImageFromStream.cs" >}}
## **Сохранение файлов изображений**
Aspose.PSD позволяет создавать файлы изображений с нуля. Он также предоставляет средства для редактирования существующих файлов изображений. После создания или изменения изображения файл обычно сохраняется на диск. Aspose.PSD предоставляет вам методы для сохранения изображений на диск, указывая путь или используя объект Stream.
### **Сохранение на диск**
Класс Image представляет объект изображения, поэтому этот класс предоставляет все необходимые инструменты для создания, загрузки и сохранения файла изображения. Используйте метод Save класса Image для сохранения изображений. Одну из перегруженных версий метода Save можно использовать с местоположением файла, указанным в виде строки.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-Conversion-SavingtoDisk-SavingtoDisk.cs" >}}
### **Сохранение в поток**
Другая перегруженная версия метода Save принимает объект Stream в качестве аргумента и сохраняет файл изображения в поток.

Если изображение создается, указав любые из CreateOptions в конструкторе Image, изображение автоматически сохраняется по пути или потоку, указанному во время инициализации класса Image, вызывая метод Save, который не принимает никаких параметров.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-Conversion-SavingtoStream-SavingtoStream.cs" >}}
### **Настройка для замены отсутствующих шрифтов**
Разработчики могут использовать API Aspose.PSD для .NET для загрузки существующих файлов изображений PSD для различных целей, например, для задания имени шрифта по умолчанию при сохранении документов PSD в растровое изображение (в форматах PNG, JPG и BMP). Этот шрифт по умолчанию должен использоваться в качестве замены для всех отсутствующих шрифтов (шрифтов, которые не найдены в текущей операционной системе). После изменения изображения файл будет сохранен на диск.


{{< gist "aspose-com-gists" "8a4c9d34ce856d1642fc7c0ce974175c" "Examples-CSharp-Aspose-Conversion-SettingforReplacingMissingFonts-SettingforReplacingMissingFonts.cs" >}}
