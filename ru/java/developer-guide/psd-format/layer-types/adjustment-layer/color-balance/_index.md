---
title: Слой коррекции баланса цвета
type: docs
weight: 30
url: /ru/java/layer-types/adjustment-layer/color-balance/
---

# Работа с коррекцией баланса цвета в Photoshop в Java

В этой статье мы собираемся **скорректировать баланс цвета изображения** в формате файла PSD в Java. Мы будем использовать специальную библиотеку под названием Aspose.PSD для Java, которая является набором инструментов для манипуляции документами Photoshop.

Поскольку библиотека работает с форматом файла PSD, она содержит почти [все функции](https://docs.aspose.com/psd/java/features/), доступные в редакторе Photoshop, и **слой коррекции баланса цвета** не является исключением.

Слой коррекции баланса цвета позволяет изменить баланс между основными (RGB) и аддитивными (CMY) цветами для теней, средних тонов и светлых участков простым и быстрым способом.

## Коррекция баланса цвета

Как было упомянуто ранее, слой коррекции баланса цвета в Aspose.PSD для Java представляет собой **балансировщик между основными и аддитивными цветами**. Это означает, что для каждой пары цветов (голубой/красный, пурпурный/зеленый, желтый/синий) существует три шкалы. Интенсивность конкретного цвета в паре увеличится, если значение будет приближаться к нему, и наоборот. Более того, эти три пары свойственны каждой области тонового диапазона (тени, средние тонов и светлые участки), что увеличивает гибкость такой коррекции.

Итак, давайте применим эти знания на практике. В качестве примера мы выберем фотографию женского лица, где лицо имеет красноватый оттенок (b). Лицо настолько красноватое, и мы собираемся исправить это, **добавив слой коррекции баланса цвета**, чтобы уменьшить красный и увеличить голубой, в основном (a), чтобы получить более естественный вид лица (c). Опять же, с этим изображением есть еще много работы, но в этой статье это все, что мы сделаем.

![Пример слоя коррекции баланса цвета](color-balance-adjustment-layer-example-figure-1.png) API слоя коррекции баланса цвета имеет плоский дизайн. Поэтому класс [ColorBalanceAdjustmentLayer](https://reference.aspose.com/psd/java/com.aspose.psd.fileformats.psd.layers.adjustmentlayers/colorbalanceadjustmentlayer) - это все, что вам нужно. Прежде всего, сохраните светимость, потому что эта функция отключена по умолчанию. Затем добавьте немного зеленого и больше желтого для теней, используя соответствующие методы (названия которых состоят из названия конкретной области тонового диапазона и названия цветов в паре цветов), затем добавьте больше голубого и немного синего для средних тонов, и, наконец, добавьте больше голубого, кроме немного пурпурного и синего:

    ColorBalanceAdjustmentLayer colorBalanceAdjustmentLayer = psdImage.addColorBalanceAdjustmentLayer();
    colorBalanceAdjustmentLayer.setPreserveLuminosity(true);
    colorBalanceAdjustmentLayer.setShadowsMagentaGreenBalance((short)5);
    colorBalanceAdjustmentLayer.setShadowsYellowBlueBalance((short)-20);
    colorBalanceAdjustmentLayer.setMidtonesCyanRedBalance((short)-20);
    colorBalanceAdjustmentLayer.setMidtonesYellowBlueBalance((short)10);
    colorBalanceAdjustmentLayer.setHighlightsCyanRedBalance((short)-20);
    colorBalanceAdjustmentLayer.setHighlightsMagentaGreenBalance((short)-5);
    colorBalanceAdjustmentLayer.setHighlightsYellowBlueBalance((short)5);

Теперь у нас есть желаемое изображение! Так просто, не так ли?

Обратите внимание, что _значение каждой пары цветов должно быть в диапазоне от -100 до 100_, что отрицательные значения соответствуют аддитивным цветам, а положительные - основным, как и в редакторе Photoshop.

Обратитесь к нашему API-справочнику, чтобы узнать более технические подробности о [слое коррекции баланса цвета](https://reference.aspose.com/psd/java/com.aspose.psd.fileformats.psd.layers.adjustmentlayers/colorbalanceadjustmentlayer).

## Заключение

В этой статье мы рассмотрели, как программно корректировать баланс цвета изображения в Java с использованием библиотеки Aspose.PSD для Java. Библиотека содержит полнофункциональный API для работы со слоями коррекции баланса цвета в документах Photoshop.
