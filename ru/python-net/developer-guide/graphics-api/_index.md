---
title: Использование графического API для редактирования слоев в файлах PSD
weight: 100
type: docs
description: Пример использования графического API в Aspose.PSD для Python
keywords: [обновление слоя, нарисовать круг, нарисовать эллипс, нарисовать заполненный круг, графика, psd api, python, образец кода]
url: ru/python-net/graphics-api/
---

## **Обзор**
Сначала вам необходимо загрузить файл PSD с помощью метода Image.load() или создать изображение Psd с нуля. В примере переменная inputFile представляет путь к вашему файлу PSD, а loadOpt представляет опции загрузки (если они есть).

```python 
with Image.load(inputFile, loadOpt) as image:
    psdImage = cast(PsdImage, image)
```
Затем вы можете получить доступ к первому слою изображения PSD, используя синтаксис psdImage.layers[0]. Это дает вам ссылку на объект слоя, который вы можете изменять.

```python 
layer = psdImage.layers[0]
```
Для редактирования слоя вам необходимо создать объект Graphics, передав слой в качестве параметра. Этот объект предоставляет различные методы для рисования форм и применения кистей.

```python 
graphics = Graphics(layer)
```
В приведенном в примере коде создается объект Pen для определения цвета и толщины контура формы эллипса. Константа Color.alice_blue представляет цвет, а толщину можно настроить по мере необходимости.

```python 
pen = Pen(Color.alice_blue)
```
Аналогично, создается объект LinearGradientBrush для определения цвета заливки формы эллипса. Прямоугольник(250, 250, 150, 100) представляет позицию и размер формы эллипса, а Color.red и Color.aquamarine представляют начальный и конечный цвета градиента.

```python 
brush = LinearGradientBrush(Rectangle(250, 250, 150, 100), Color.red, Color.aquamarine, 45)
```
Для рисования формы эллипса на слое вы можете использовать метод graphics.draw_ellipse(). Прямоугольник(100, 100, 200, 200) представляет позицию и размер формы эллипса.

```python 
graphics.draw_ellipse(pen, Rectangle(100, 100, 200, 200))
```
Чтобы заполнить форму эллипса градиентной кистью, вы можете использовать метод graphics.fill_ellipse(). Прямоугольник(250, 250, 150, 100) представляет позицию и размер формы эллипса.

```python 
graphics.fill_ellipse(brush, Rectangle(250, 250, 150, 100))
```
После внесения необходимых изменений в слой вы можете сохранить измененное изображение PSD с помощью метода psdImage.save(). В примере переменная psdName представляет путь для сохранения измененного файла PSD.

```python 
psdImage.save(psdName)
```
Дополнительно, вы также можете сохранить измененное изображение в других форматах, таких как PNG, используя класс PngOptions. Переменная pngName представляет путь для сохранения файла PNG.

```python 
psdImage.save(pngName, PngOptions())
```
Это все! Вы успешно использовали графический API Aspose.PSD для Python для редактирования слоев в файле PSD. Не стесняйтесь изучать больше функций и возможностей библиотеки Aspose.PSD для улучшения возможностей редактирования изображений.

Пожалуйста, проверьте полный пример.

## **Пример**
{{< gist "aspose-com-gists" "04e945e867d0b7f39bb3eab63074d04c" "Documentation-Python-Aspose-Psd-graphics-api.py" >}}
